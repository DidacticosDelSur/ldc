import { click } from "@testing-library/user-event/dist/click"

en Route.js
{
        path: "/perfil-usuario",
        element: <UserProfile />,
        children: [
          {
            path: '/perfil-usuario',
            element: <UserProfileData />
          },
          {
            path: '/perfil-usuario/orders',
            element: <UserProfileOrders />
          } /**/
        ]
      },

      const handleChangePage = (page = null) => {
        let url = '/perfil-usuario';
        if (page == 'orders') {
          url += '/orders'
        }
        navigate(url);
      }

en UserProfile.js
...
useEffect(() => {
    if (sessionStorage.getItem('currentState') === '/perfil-usuario') {
      setActiveData(true);
      setActiveOrders(false);
    } else {
      setActiveData(false);
      setActiveOrders(true);
    }
  }, [sessionStorage.getItem('currentState')])

  ...
  <Col sm={4} className="profile-menu">
    <ListGroup>
      <ListGroup.Item className={`${activeData ? 'active' : '' }`} onClick={()=>{handleChangePage()}}>Perfil</ListGroup.Item>
      <ListGroup.Item className={`${activeOrders ? 'active' : '' }`} onClick={()=>{handleChangePage('orders')}}>Pedidos</ListGroup.Item>
    </ListGroup>
  </Col>

tengo que hacer click dos veces para que agregue la clase active. Como puedo arreglarlo para que el cambio lo vea instantaneo 